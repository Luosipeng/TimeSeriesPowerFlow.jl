<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>TimeDomainPowerFlow API · HyDistFlow.jl</title><meta name="title" content="TimeDomainPowerFlow API · HyDistFlow.jl"/><meta property="og:title" content="TimeDomainPowerFlow API · HyDistFlow.jl"/><meta property="twitter:title" content="TimeDomainPowerFlow API · HyDistFlow.jl"/><meta name="description" content="Documentation for HyDistFlow.jl."/><meta property="og:description" content="Documentation for HyDistFlow.jl."/><meta property="twitter:description" content="Documentation for HyDistFlow.jl."/><meta property="og:url" content="https://Luosipeng.github.io/HyDistFlow.jl/api\\timedomainpowerflow.html"/><meta property="twitter:url" content="https://Luosipeng.github.io/HyDistFlow.jl/api\\timedomainpowerflow.html"/><link rel="canonical" href="https://Luosipeng.github.io/HyDistFlow.jl/api\\timedomainpowerflow.html"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Module</span><ul><li><a class="tocitem" href="../modules/overview.html">Overview</a></li><li><a class="tocitem" href="../modules/componentmodel.html">ComponentModel</a></li><li><a class="tocitem" href="../modules/utils.html">Utils</a></li><li><a class="tocitem" href="../modules/powerflow.html">PowerFlow</a></li><li><a class="tocitem" href="../modules/timedomainpowerflow.html">TimeDomainPowerFlow</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="componentmodel.html">ComponentModel API</a></li><li><a class="tocitem" href="utils.html">Utils API</a></li><li><a class="tocitem" href="powerflow.html">PowerFlow API</a></li><li class="is-active"><a class="tocitem" href="timedomainpowerflow.html">TimeDomainPowerFlow API</a><ul class="internal"><li><a class="tocitem" href="#Input-Interface"><span>Input Interface</span></a></li><li><a class="tocitem" href="#TimeSeries-Functions"><span>TimeSeries Functions</span></a></li><li><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li><a class="tocitem" href="#Other-Functions"><span>Other Functions</span></a></li></ul></li><li><a class="tocitem" href="hydistflow.html">HyDistFlow API</a></li></ul></li><li><a class="tocitem" href="../references.html">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href="timedomainpowerflow.html">TimeDomainPowerFlow API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="timedomainpowerflow.html">TimeDomainPowerFlow API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Luosipeng/HyDistFlow.jl.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="github.com/Luosipeng/HyDistFlow.jl/blob/master/docs/src/api/timedomainpowerflow.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Input-Interface"><a class="docs-heading-anchor" href="#Input-Interface">Input Interface</a><a id="Input-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Input-Interface" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.read_irradiance_data-Tuple{Any}" href="#HyDistFlow.TimeDomainPowerFlow.read_irradiance_data-Tuple{Any}"><code>HyDistFlow.TimeDomainPowerFlow.read_irradiance_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_irradiance_data(file_path)</code></pre><p>Read solar irradiance time series data from an Excel file.</p><p><strong>Arguments</strong></p><ul><li><code>file_path</code>: Path to the Excel file containing irradiance data</li></ul><p><strong>Returns</strong></p><ul><li><code>hour_column</code>: Vector containing hour values from the first column</li><li><code>time_str_column</code>: Vector containing time string representations from the second column</li><li><code>data</code>: DataFrame containing the entire irradiance dataset</li></ul><p><strong>Description</strong></p><p>This function reads solar irradiance time series data from an Excel file into a DataFrame. It extracts the hour values (first column) and time string representations (second column). The function returns these components separately along with the complete DataFrame for further processing.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL65-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.read_load_data-Tuple{Any}" href="#HyDistFlow.TimeDomainPowerFlow.read_load_data-Tuple{Any}"><code>HyDistFlow.TimeDomainPowerFlow.read_load_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_load_data(file_path)</code></pre><p>Read load time series data from an Excel file.</p><p><strong>Arguments</strong></p><ul><li><code>file_path</code>: Path to the Excel file containing load data</li></ul><p><strong>Returns</strong></p><ul><li><code>time_column</code>: Vector containing time values from the first column</li><li><code>time_str_column</code>: Vector containing time string representations from the second column</li><li><code>load_names</code>: Vector of load names extracted from column headers</li><li><code>data</code>: DataFrame containing the entire load dataset</li></ul><p><strong>Description</strong></p><p>This function reads load time series data from an Excel file into a DataFrame. It extracts the time values (first column), time string representations (second column), and the names of the loads from the column headers. The function returns these components separately along with the complete DataFrame for further processing.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.read_price_data-Tuple{Any}" href="#HyDistFlow.TimeDomainPowerFlow.read_price_data-Tuple{Any}"><code>HyDistFlow.TimeDomainPowerFlow.read_price_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_price_data(file_path)</code></pre><p>Read electricity price time series data from an Excel file.</p><p><strong>Arguments</strong></p><ul><li><code>file_path</code>: Path to the Excel file containing price data</li></ul><p><strong>Returns</strong></p><ul><li><code>time_column</code>: Vector containing time values from the first column</li><li><code>time_str_column</code>: Vector containing time string representations from the second column</li><li><code>data</code>: DataFrame containing the entire price dataset</li></ul><p><strong>Description</strong></p><p>This function reads electricity price time series data from an Excel file into a DataFrame. It extracts the time values (first column) and time string representations (second column). The function returns these components separately along with the complete DataFrame for further processing.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL35-L52">source</a></section></article><h2 id="TimeSeries-Functions"><a class="docs-heading-anchor" href="#TimeSeries-Functions">TimeSeries Functions</a><a id="TimeSeries-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#TimeSeries-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.runtdpf-NTuple{6, Any}" href="#HyDistFlow.TimeDomainPowerFlow.runtdpf-NTuple{6, Any}"><code>HyDistFlow.TimeDomainPowerFlow.runtdpf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">runtdpf(case, data, load_names, price_profiles, irradiance_profiles, opt)</code></pre><p>Run time-domain power flow analysis for multiple days with varying loads, prices, and solar irradiance.</p><p><strong>Arguments</strong></p><ul><li><code>case</code>: Power system case data structure</li><li><code>data</code>: DataFrame containing load time series data</li><li><code>load_names</code>: Vector of load names</li><li><code>price_profiles</code>: Matrix containing electricity price data</li><li><code>irradiance_profiles</code>: Matrix containing solar irradiance data</li><li><code>opt</code>: Options for power flow calculation</li></ul><p><strong>Returns</strong></p><ul><li>3D array of results where dimensions represent [island, day, hour]</li></ul><p><strong>Description</strong></p><p>This function performs time-domain power flow analysis across multiple days, considering varying loads, electricity prices, and solar irradiance. It processes the data day by day and handles multiple grid islands.</p><p>The function performs the following steps:</p><ol><li>Determines the number of days from the time series data</li><li>Validates that the number of time points is divisible by 24 (hours per day)</li><li>Generates daily load, price, and irradiance data using helper functions</li><li>Converts the power system case to JPC format</li><li>Extracts grid islands from the power system</li><li>For each day and each island (in parallel):<ul><li>Extracts the relevant load data for the island</li><li>Performs power flow calculations for each hour using the <code>run_single_day</code> function</li></ul></li><li>Returns a 3D array of results organized by island, day, and hour</li></ol><p>The parallel processing is implemented using Julia&#39;s threading capabilities (@threads), with the outer loop over days being parallelized for efficiency.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL574-L607">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.build_incidence_matrix_td-NTuple{4, Any}" href="#HyDistFlow.TimeDomainPowerFlow.build_incidence_matrix_td-NTuple{4, Any}"><code>HyDistFlow.TimeDomainPowerFlow.build_incidence_matrix_td</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_incidence_matrix_td(n_nodes, branchAC, branchDC, converter)</code></pre><p>Build the incidence matrix for a hybrid AC-DC power system.</p><p><strong>Arguments</strong></p><ul><li><code>n_nodes</code>: Total number of nodes in the system</li><li><code>branchAC</code>: Matrix containing AC branch data, with columns for from/to buses</li><li><code>branchDC</code>: Matrix containing DC branch data, with columns for from/to buses</li><li><code>converter</code>: Matrix containing converter data, with columns for AC/DC bus connections</li></ul><p><strong>Returns</strong></p><ul><li><code>A</code>: Incidence matrix where rows represent branches and columns represent nodes</li><li><code>branch_data</code>: Vector of tuples containing (from<em>node, to</em>node, branch<em>type, original</em>index) where branch_type is 1 for AC branches, 2 for DC branches, and 3 for converters</li></ul><p><strong>Description</strong></p><p>This function constructs the node-branch incidence matrix for a hybrid AC-DC power system. The incidence matrix A has dimensions (n<em>branches × n</em>nodes) where n<em>branches is the total number of branches (AC branches + DC branches + converters) and n</em>nodes is the total number of nodes in the system.</p><p>For each branch connecting nodes i and j:</p><ul><li>A[branch, i] = 1 (outflow from node i is positive)</li><li>A[branch, j] = -1 (inflow to node j is negative)</li></ul><p>The function also returns branch_data, which provides information about each branch including its start and end nodes, type (AC, DC, or converter), and its original index in the input data. Branches are sorted by their starting node for consistent ordering.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/run_dynamic_dispatch.jl#LL288-L317">source</a></section></article><h2 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.plot_flow_violations" href="#HyDistFlow.TimeDomainPowerFlow.plot_flow_violations"><code>HyDistFlow.TimeDomainPowerFlow.plot_flow_violations</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_flow_violations(results, case, time_day, flow_limit = 3.0, plot_type = &quot;summary&quot;, flow_direction = &quot;max&quot;; save_path = nothing, save_format = &quot;pdf&quot;)</code></pre><p>Plot power flow violations in power system branches.</p><p><strong>Arguments</strong></p><ul><li><code>results</code>: Simulation results containing branch flow data</li><li><code>case</code>: Power system case data</li><li><code>time_day</code>: Number of days in the simulation</li><li><code>flow_limit</code>: Power flow limit in MW (default: 3.0)</li><li><code>plot_type</code>: Type of plot to generate:<ul><li>&quot;summary&quot;: Overall statistics of violations</li><li>&quot;worst&quot;: Shows the worst branches with violations</li><li>&quot;all&quot;: Shows all branches with violations</li></ul></li><li><code>flow_direction</code>: How to evaluate flow violations:<ul><li>&quot;max&quot;: Maximum absolute value of flow in either direction</li><li>&quot;both&quot;: Same as &quot;max&quot;</li><li>&quot;forward&quot;: Only check flow from from-bus to to-bus</li><li>&quot;reverse&quot;: Only check flow from to-bus to from-bus</li></ul></li><li><code>save_path</code>: Optional path to save the plot</li><li><code>save_format</code>: Format to save the plot (default: &quot;pdf&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>plot_result</code>: The generated plot</li><li><code>violation_count</code>: Number of branches with violations at each time point</li><li><code>max_violation_percent</code>: Maximum violation percentage at each time point</li><li><code>total_violation_severity</code>: Sum of violation severity at each time point</li><li><code>violation_details</code>: Detailed information about each violation</li><li><code>branch_violation_stats</code>: Statistics for each branch with violations</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/plot_flow_violations.jl#LL1-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.plot_PD_time_series" href="#HyDistFlow.TimeDomainPowerFlow.plot_PD_time_series"><code>HyDistFlow.TimeDomainPowerFlow.plot_PD_time_series</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Plot the time series of active load Parameters: results - Result dataset bus<em>name - Bus name case - System case time</em>day - Number of days bus_type - Bus type (default is &quot;AC&quot;)</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/plot_PD_time_series.jl#LL1-L9">source</a></section></article><h2 id="Other-Functions"><a class="docs-heading-anchor" href="#Other-Functions">Other Functions</a><a id="Other-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.create_time_series_irradiance" href="#HyDistFlow.TimeDomainPowerFlow.create_time_series_irradiance"><code>HyDistFlow.TimeDomainPowerFlow.create_time_series_irradiance</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_time_series_irradiance(irradiance_profiles, num_days=nothing)</code></pre><p>Create time series solar irradiance data for renewable energy simulation.</p><p><strong>Arguments</strong></p><ul><li><code>irradiance_profiles</code>: Matrix containing solar irradiance data, where rows represent days and columns represent hours</li><li><code>num_days</code>: Optional parameter specifying the number of days to process (defaults to all available days)</li></ul><p><strong>Returns</strong></p><ul><li>Dictionary mapping day number to irradiance matrix for that day</li></ul><p><strong>Description</strong></p><p>This function processes solar irradiance profiles and organizes them into daily irradiance matrices. For each day, it creates a matrix where each row represents a specific hour, with columns: [hour, irradiance]</p><p>The function performs the following steps:</p><ol><li>Determines the total number of days available in the irradiance profiles</li><li>Limits processing to the specified number of days if provided</li><li>For each day and hour:<ul><li>Extracts the irradiance value from the irradiance profiles</li><li>Creates a matrix with hour and irradiance information</li></ul></li><li>Returns a dictionary where keys are day numbers and values are the corresponding irradiance matrices</li></ol><p>The irradiance profiles are expected to have a structure where the first column contains date information and subsequent columns (2-25) contain hourly irradiance data.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL428-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.create_time_series_loads-Tuple{JuliaPowerCase, Any, Any, Any}" href="#HyDistFlow.TimeDomainPowerFlow.create_time_series_loads-Tuple{JuliaPowerCase, Any, Any, Any}"><code>HyDistFlow.TimeDomainPowerFlow.create_time_series_loads</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_time_series_loads(case::Utils.JuliaPowerCase, data, load_names, num_days)</code></pre><p>Create time series load data for power system simulation based on input data.</p><p><strong>Arguments</strong></p><ul><li><code>case</code>: Power system case data structure</li><li><code>data</code>: DataFrame containing load time series data</li><li><code>load_names</code>: Vector of load names</li><li><code>num_days</code>: Number of days to process</li></ul><p><strong>Returns</strong></p><ul><li>Dictionary mapping day number to load matrix for that day</li></ul><p><strong>Description</strong></p><p>This function processes time series load data and creates daily load matrices for power system simulation. For each day, it creates a matrix where each row represents a specific bus at a specific hour, with columns: [hour, bus<em>id, active</em>power, reactive<em>power, const</em>z<em>percent, const</em>i<em>percent, const</em>p_percent]</p><p>The function performs the following steps:</p><ol><li>Validates that the number of time points is divisible by 24 (hours per day)</li><li>Filters in-service loads from the power system case</li><li>Maps load names to column indices in the input data</li><li>For each day and hour:<ul><li>Accumulates loads connected to the same bus</li><li>Calculates actual active and reactive power based on apparent power and power factor</li><li>Computes weighted load characteristics (ZIP model parameters)</li><li>Ensures load characteristic percentages sum to 1</li></ul></li><li>Returns a dictionary where keys are day numbers and values are the corresponding load matrices</li></ol><p>The function handles cases where load names in the data match or don&#39;t match those in the power system case, maintaining power factor and appropriately scaling loads based on the input data.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL126-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.create_time_series_prices" href="#HyDistFlow.TimeDomainPowerFlow.create_time_series_prices"><code>HyDistFlow.TimeDomainPowerFlow.create_time_series_prices</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_time_series_prices(price_profiles, num_days=nothing)</code></pre><p>Create time series price data for power system economic analysis.</p><p><strong>Arguments</strong></p><ul><li><code>price_profiles</code>: Matrix containing electricity price data, where rows represent days and columns represent hours</li><li><code>num_days</code>: Optional parameter specifying the number of days to process (defaults to all available days)</li></ul><p><strong>Returns</strong></p><ul><li>Dictionary mapping day number to price matrix for that day</li></ul><p><strong>Description</strong></p><p>This function processes electricity price profiles and organizes them into daily price matrices. For each day, it creates a matrix where each row represents a specific hour, with columns: [hour, price]</p><p>The function performs the following steps:</p><ol><li>Determines the total number of days available in the price profiles</li><li>Limits processing to the specified number of days if provided</li><li>For each day and hour:<ul><li>Extracts the price value from the price profiles</li><li>Creates a matrix with hour and price information</li></ul></li><li>Returns a dictionary where keys are day numbers and values are the corresponding price matrices</li></ol><p>The price profiles are expected to have a structure where the first column contains date information and subsequent columns (2-25) contain hourly price data.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL356-L383">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.create_time_series_storage_profile" href="#HyDistFlow.TimeDomainPowerFlow.create_time_series_storage_profile"><code>HyDistFlow.TimeDomainPowerFlow.create_time_series_storage_profile</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_time_series_storage_profile(storage_profiles, num_days=nothing)</code></pre><p>Create time series storage profile data for energy system simulation.</p><p><strong>Arguments</strong></p><ul><li><code>storage_profiles</code>: Matrix containing storage profile data, where rows represent days and columns represent hours</li><li><code>num_days</code>: Optional parameter specifying the number of days to process (defaults to all available days)</li></ul><p><strong>Returns</strong></p><ul><li>Dictionary mapping day number to storage profile matrix for that day</li></ul><p><strong>Description</strong></p><p>This function processes storage profiles and organizes them into daily storage matrices. For each day, it creates a matrix where each row represents a specific hour, with columns: [hour, storage_value]</p><p>The function performs the following steps:</p><ol><li>Determines the total number of days available in the storage profiles</li><li>Limits processing to the specified number of days if provided</li><li>For each day and hour:<ul><li>Extracts the storage value from the storage profiles</li><li>Creates a matrix with hour and storage value information</li></ul></li><li>Returns a dictionary where keys are day numbers and values are the corresponding storage profile matrices</li></ol><p>The storage profiles are expected to have a structure where the first column contains date information and subsequent columns (2-25) contain hourly storage data.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL500-L527">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.extract_load_matrix_by_islands-Tuple{Any, Any}" href="#HyDistFlow.TimeDomainPowerFlow.extract_load_matrix_by_islands-Tuple{Any, Any}"><code>HyDistFlow.TimeDomainPowerFlow.extract_load_matrix_by_islands</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">extract_load_matrix_by_islands(day_load_matrix, jpc_list)</code></pre><p>Extract and organize load data by power system islands.</p><p><strong>Arguments</strong></p><ul><li><code>day_load_matrix</code>: Matrix containing load data for a day, where rows represent loads and columns include time, bus ID, and load values</li><li><code>jpc_list</code>: List of power system cases representing different islands in the network</li></ul><p><strong>Returns</strong></p><ul><li><code>load_matrix_list</code>: List of load matrices, one for each island</li><li><code>isolated_load_matrix</code>: Matrix containing load data for buses not belonging to any island</li></ul><p><strong>Description</strong></p><p>This function distributes load data among different power system islands based on bus IDs. It separates the daily load data into distinct matrices for each island in the power system.</p><p>The function performs the following steps:</p><ol><li>Extracts bus IDs from the load data matrix (assumed to be in the second column)</li><li>For each island in the power system:<ul><li>Identifies the AC buses belonging to the island</li><li>Finds load data rows associated with those buses</li><li>Creates a load matrix specific to that island</li><li>If no loads are found for an island, creates an empty matrix with the same column structure</li></ul></li><li>Identifies loads on buses that don&#39;t belong to any valid island (isolated buses)</li><li>Returns both the list of island-specific load matrices and the matrix for isolated loads</li></ol><p>This function is essential for distributed power flow analysis where each island  needs to be processed separately with its corresponding load data.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL671-L700">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="HyDistFlow.TimeDomainPowerFlow.read_storage_profile_data-Tuple{Any}" href="#HyDistFlow.TimeDomainPowerFlow.read_storage_profile_data-Tuple{Any}"><code>HyDistFlow.TimeDomainPowerFlow.read_storage_profile_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_storage_profile_data(file_path)</code></pre><p>Read storage profile time series data from an Excel file.</p><p><strong>Arguments</strong></p><ul><li><code>file_path</code>: Path to the Excel file containing storage profile data</li></ul><p><strong>Returns</strong></p><ul><li><code>hour_column</code>: Vector containing hour values from the first column</li><li><code>time_str_column</code>: Vector containing time string representations from the second column</li><li><code>data</code>: DataFrame containing the entire storage profile dataset</li></ul><p><strong>Description</strong></p><p>This function reads storage profile time series data from an Excel file into a DataFrame. It extracts the hour values (first column) and time string representations (second column). The function returns these components separately along with the complete DataFrame for further processing.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/Luosipeng/HyDistFlow.jl/blob/0df98cb05f37fe5c74af37fe7e0c72778867f4fc/src/TimeDomainPowerFlow/src/runtdpf.jl#LL96-L113">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="powerflow.html">« PowerFlow API</a><a class="docs-footer-nextpage" href="hydistflow.html">HyDistFlow API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Thursday 2 October 2025 20:22">Thursday 2 October 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
